(function(){"use strict";var t={1619:function(t,e,o){var a=o(6369),s=o(4121),n=o(8125),r=o(8321),i=o(2274),l=o(2234),c=o(7749),u=o(2027),d=o.n(u),h=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},f=[],w=o(4154);const p="https://ykzerwlfjivrynfxeznd.supabase.co",v="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlremVyd2xmaml2cnluZnhlem5kIiwicm9sZSI6ImFub24iLCJpYXQiOjE2NTQ2MTAyMDgsImV4cCI6MTk3MDE4NjIwOH0.b88wtcqhVB_NkxrAYDdhrZ_EooPtPWSE2xB8F9IJ4Us";var m=(0,w.eI)(p,v),b={data(){return{shows:[]}},async created(){const t=await this.fetchDatabaseData();t&&(this.shows=t,this.writeDataToCache()),this.$root.$emit("loadComplete",t)},methods:{async fetchDatabaseData(){let t=new Date;t.setHours(0,0,0,0),t=t.toISOString();const{data:e,error:o}=await m.from("shows").select("*").gte("date",t).order("date");return o&&navigator.onLine&&this.$root.$emit("dbFetchError",o),e},writeDataToCache(){this.$localStorage.set("allShows",this.shows)}}},g=b,y=o(1001),S=(0,y.Z)(g,h,f,!1,null,null,null),_=S.exports,k=o(5431);(0,k.z)("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(t){console.error("Error during service worker registration:",t)}});var C=o(2631),I=function(){var t=this,e=t._self._c;return e("div",{staticClass:"shows-list"},[e("ShowsList"),e("BottomNavbar")],1)},T=[],x=function(){var t=this,e=t._self._c;return e("div",[e("TitleBar"),e("b-container",[e("b-row",{staticClass:"date-separator"},[e("h3",[t._v("Today")])]),e("b-row",{attrs:{"cols-lg":"2"}},t._l(t.shows.filter((e=>t.happensToday(new Date(e.date)))),(function(t){return e("div",{key:t.id},[e("b-col",[e("ShowItem",{attrs:{show:t}})],1)],1)})),0),e("b-row",{staticClass:"date-separator"},[e("b-col",[e("h3",[t._v("This week")])])],1),e("b-row",{attrs:{"cols-lg":"2"}},t._l(t.shows.filter((e=>!t.happensToday(new Date(e.date))&&new Date(e.date).getTime()<=(new Date).getTime()+6048e5)),(function(t){return e("div",{key:t.id},[e("b-col",[e("ShowItem",{attrs:{show:t}})],1)],1)})),0),e("b-row",{staticClass:"date-separator"},[e("b-col",[e("h3",[t._v("Upcoming")])])],1),e("b-row",{attrs:{"cols-lg":"2"}},t._l(t.shows.filter((t=>new Date(t.date).getTime()>(new Date).getTime()+6048e5)),(function(t){return e("div",{key:t.id},[e("b-col",[e("ShowItem",{attrs:{show:t}})],1)],1)})),0),e("b-row",[e("b-col",[e("b-alert",{attrs:{id:"error-alert",show:t.showError,variant:"secondary"}},[e("h6",{staticClass:"alert-heading fw-bold"},[t._v("Error while refreshing data")]),e("p",[t._v("If you have cached data on your device, it will be used instead.")]),e("p",{staticClass:"text-muted"},[t._v(t._s(t.errorMsg))])])],1)],1)],1)],1)},D=[],O=function(){var t=this,e=t._self._c;return e("b-container",{staticClass:"py-2",attrs:{fluid:""}},[e("h1",[t._v("Theat"),e("span",{attrs:{id:"accented"}},[t._v("RI")])])])},$=[],j={name:"TitleBar"},A=j,E=(0,y.Z)(A,O,$,!1,null,"191f4c18",null),N=E.exports,B=function(){var t=this,e=t._self._c;return e("router-link",{staticStyle:{"text-decoration":"none",color:"inherit"},attrs:{to:{name:"show-details",params:{id:t.show.id}}}},[e("b-container",[e("b-row",{staticClass:"show-item"},[e("b-col",{staticClass:"col-3 d-flex mx-auto"},[e("b-container",{attrs:{id:"date"}},[e("b-row",[e("b-col",{attrs:{id:"month"}},[t._v(t._s(new Intl.DateTimeFormat("en-US",{month:"short"}).format(new Date(t.show.date))))])],1),e("b-row",[e("b-col",{attrs:{id:"day-of-month"}},[t._v(t._s(new Date(t.show.date).getDate()))])],1)],1)],1),e("b-col",{staticClass:"col-7",staticStyle:{"border-left":"2px solid white"},attrs:{id:"info-text"}},[e("p",{staticClass:"text-truncate",staticStyle:{"font-weight":"bold"}},[t._v(" "+t._s(t.show.title)+" ")]),e("p",{staticClass:"text-truncate"},[t._v(" "+t._s(t.show.performed_by)+" ")]),e("p",{staticClass:"text-truncate"},[t._v(" "+t._s(new Date(t.show.date).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"}))+" ")])]),e("b-col",{staticClass:"col-2 d-flex mx-auto align-items-center justify-content-center",attrs:{id:"save-button"}},[e("font-awesome-icon",{attrs:{icon:`${t.fill} fa-heart`,title:t.saved?"Unsave":"Save"},on:{click:function(e){e.preventDefault(),t.saved=!t.saved}}})],1)],1)],1)],1)},Z=[],M={name:"ShowItem",props:{show:Object},data(){return{saved:this.$localStorage.get("savedShows").includes(this.show.id)}},computed:{fill:({saved:t})=>t?"fa-solid":"fa-regular"},watch:{saved(){const t=this.$localStorage.get("savedShows");if(this.saved)t.push(this.show.id);else{const e=t.indexOf(this.show.id);t.splice(e,1)}this.$localStorage.set("savedShows",t)}}},F=M,P=(0,y.Z)(F,B,Z,!1,null,"43ac24e6",null),L=P.exports,R={name:"ShowsList",components:{TitleBar:N,ShowItem:L},data(){return{shows:[],showError:!1,errorMsg:""}},mounted(){this.shows=this.$localStorage.get("allShows"),this.$root.$on("loadComplete",(t=>{this.shows=t})),this.$root.$on("dbFetchError",((t={message:"No error provided."})=>{this.showError=!0,this.errorMsg=t.message}))},methods:{happensToday(t){const e=new Date;return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}}},U=R,z=(0,y.Z)(U,x,D,!1,null,"3dec573c",null),J=z.exports,V=function(){var t=this,e=t._self._c;return e("div",[e("b-navbar",{staticClass:"justify-content-center",attrs:{fixed:"bottom"}},[e("b-navbar-nav",[e("router-link",{staticClass:"nav-item nav-link",attrs:{to:"/"}},[e("font-awesome-icon",{attrs:{icon:"fa-solid fa-masks-theater"}}),e("span",{staticClass:"icon-label"},[t._v("All Shows")])],1),e("router-link",{staticClass:"nav-item nav-link",attrs:{to:"/saved"}},[e("font-awesome-icon",{attrs:{icon:"fa-solid fa-heart"}}),e("span",{staticClass:"icon-label"},[t._v("Saved")])],1),e("router-link",{staticClass:"nav-item nav-link",attrs:{to:"/about"}},[e("font-awesome-icon",{attrs:{icon:"fa-regular fa-circle-question"}}),e("span",{staticClass:"icon-label"},[t._v("About")])],1)],1)],1)],1)},G=[],Y={name:"BottomNavbar"},q=Y,X=(0,y.Z)(q,V,G,!1,null,"b481f5da",null),H=X.exports,Q={name:"ShowsListView",components:{ShowsList:J,BottomNavbar:H}},W=Q,K=(0,y.Z)(W,I,T,!1,null,null,null),tt=K.exports,et=function(){var t=this,e=t._self._c;return e("div",{staticClass:"show-details"},[e("ShowDetails",{attrs:{id:parseInt(t.$route.params.id)}}),e("BottomNavbar")],1)},ot=[],at=function(){var t=this,e=t._self._c;return e("div",[e("b-container",{attrs:{fluid:""}},[e("b-row",{staticClass:"p-2",attrs:{id:"title"}},[e("b-col",{staticClass:"align-self-center",attrs:{cols:"1"}},[e("a",{attrs:{title:"Back"},on:{click:function(e){return t.$router.back()},keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.$router.back()}}},[e("font-awesome-icon",{staticStyle:{height:"2rem"},attrs:{icon:"fa-solid fa-arrow-left"}}),e("span",{staticClass:"visually-hidden"},[t._v("Back")])],1)]),e("b-col",{attrs:{cols:"11"}},[e("h1",{staticStyle:{"font-weight":"bold"}},[t._v(t._s(t.show["title"]))])])],1)],1),e("b-container",{staticClass:"px-4 mt-4"},[e("b-row",{attrs:{cols:"1","cols-lg":"2",id:"details"}},t._l(t.details.entries(),(function([o,a]){return e("div",{key:o},[e("b-col",{staticClass:"pb-2"},[e("b-row",[e("b-col",{attrs:{cols:"1"}},[e("font-awesome-icon",{attrs:{icon:`fa-solid fa-${o}`}})],1),e("b-col",{attrs:{cols:"11"}},[e("p",{staticStyle:{"white-space":"pre-line"},domProps:{innerHTML:t._s(`${a||"â€”"}`)}})])],1)],1)],1)})),0),e("b-row",{staticClass:"mt-3"},[e("b-col",[e("div",{staticClass:"embed-responsive embed-responsive-1by1"},[e("iframe",{ref:"embed",staticClass:"embed-responsive-item",staticStyle:{border:"0"},attrs:{width:"100%",height:"400px",title:"Google Maps preview",loading:"lazy",allowfullscreen:"",referrerpolicy:"no-referrer-when-downgrade",src:`https://www.google.com/maps/embed/v1/place?key=${this.api_key}&q=${t.show["address"]}`}})])])],1)],1)],1)},st=[],nt={name:"ShowDetails",props:{id:Number},data(){return{api_key:"AIzaSyA5d-a_ZkfRQ8AJRnG1oa8XRtTfU7eAS0A",show:Object,details:new Map}},async created(){const t=this.$localStorage.get("allShows").filter((t=>t.id===this.id));t&&([this.show]=t,this.details=new Map([["school-flag",this.show.performed_by],["calendar",new Date(this.show.date).toLocaleDateString("en-US",{dateStyle:"full"})],["clock",new Date(this.show.date).toLocaleTimeString("en-US",{timeStyle:"short"})],["ticket",this.linkify(this.show.ticket_price)],["location-dot",this.show.address]]))},methods:{linkify(t){if(!t)return"";if(!t.includes("`"))return t;const e=t.split("`"),o=e[1];let a=o;return o.includes("http")||(a=`https://${o}`),t.replaceAll(`\`${o}\``,`<a href=${a}>${o}</a>`)}}},rt=nt,it=(0,y.Z)(rt,at,st,!1,null,"d1e23e44",null),lt=it.exports,ct={name:"ShowDetailsView",components:{ShowDetails:lt,BottomNavbar:H}},ut=ct,dt=(0,y.Z)(ut,et,ot,!1,null,null,null),ht=dt.exports,ft=function(){var t=this,e=t._self._c;return e("div",{staticClass:"saved-shows"},[e("SavedShows"),e("BottomNavbar")],1)},wt=[],pt=function(){var t=this,e=t._self._c;return e("div",[e("b-container",[e("b-row",{attrs:{"cols-lg":"2"}},[e("div",t._l(t.shows,(function(t){return e("div",{key:t.id},[e("b-col",[e("ShowItem",{attrs:{show:t}})],1)],1)})),0)]),e("b-row",[0===t.shows.length?e("div",[e("p",{staticClass:"mt-3 text-center"},[t._v(" You haven't saved any shows yet. Go to All Shows and tap the heart icon on any show you want to save. ")])]):t._e()])],1)],1)},vt=[],mt={name:"ShowsList",components:{ShowItem:L},data(){return{shows:[]}},async created(){const t=this.$localStorage.get("savedShows"),e=this.$localStorage.get("allShows").filter((e=>t.includes(e.id)));e&&(this.shows=e)}},bt=mt,gt=(0,y.Z)(bt,pt,vt,!1,null,"48d06520",null),yt=gt.exports,St={name:"SavedShowsView",components:{SavedShows:yt,BottomNavbar:H}},_t=St,kt=(0,y.Z)(_t,ft,wt,!1,null,null,null),Ct=kt.exports,It=function(){var t=this,e=t._self._c;return e("div",{staticClass:"about-page"},[e("AboutPage"),e("BottomNavbar")],1)},Tt=[],xt=function(){var t=this,e=t._self._c;return e("b-container",{staticClass:"text-center"},[e("b-row",[e("b-col",[e("h1",{staticClass:"my-3 display-4"},[t._v("About")]),e("p",[t._v(" This app is a passion project created by Marceline Kelly, a Computer Science student at the University of Rhode Island. ")]),e("p",[t._v(" All data comes from publicly-available sources, such as Facebook, Instagram, and school websites. ")]),e("p",{staticStyle:{"font-weight":"bold"}},[t._v(" Found an issue? Want your school to appear on the list? Discovered the meaning of life? Email me using the button below. ")])])],1),e("b-row",[e("b-col",[e("a",{attrs:{href:"mailto:m.kelly@uri.edu",title:"Email"}},[e("font-awesome-icon",{attrs:{icon:"fa-solid fa-envelope"}}),e("span",{staticClass:"visually-hidden"},[t._v("Email")])],1),e("a",{attrs:{href:"https://github.com/mckel5/theatri",target:"_blank",title:"Source code"}},[e("font-awesome-icon",{attrs:{icon:"fa-brands fa-github"}}),e("span",{staticClass:"visually-hidden"},[t._v("Source code")])],1)])],1)],1)},Dt=[],Ot={},$t=Ot,jt=(0,y.Z)($t,xt,Dt,!1,null,"1453bb6d",null),At=jt.exports,Et={name:"AboutView",components:{AboutPage:At,BottomNavbar:H}},Nt=Et,Bt=(0,y.Z)(Nt,It,Tt,!1,null,null,null),Zt=Bt.exports;a["default"].use(C.Z);const Mt=[{path:"/",name:"shows-list",component:tt,meta:{title:"All Shows - TheatRI"}},{path:"/shows/:id",name:"show-details",component:ht,meta:{title:"Show Details - TheatRI"}},{path:"/saved",name:"saved-shows",component:Ct,meta:{title:"Saved - TheatRI"}},{path:"/about",name:"about",component:Zt,meta:{title:"About - TheatRI"}}],Ft=new C.Z({mode:"history",base:"/",routes:Mt,scrollBehavior(t,e,o){return o?{savedPosition:o,behavior:"instant"}:(document.getElementById("app").scrollIntoView({behavior:"instant"}),window.scrollTo({top:0,left:0,behavior:"instant"}),{})}}),Pt="TheatRI";Ft.afterEach((t=>{a["default"].nextTick((()=>{document.title=t.meta.title||Pt}))}));var Lt=Ft;o(7024);a["default"].use(s.XG7),a["default"].use(d()),n.vI.add(r.SDO,r.m6i,r.NLz,r.fT7,r.SZw,r.IB,r.opg,r.acZ,i.m6i,l.zhw,r.FU$,i.FDd),a["default"].component("font-awesome-icon",c.GN),a["default"].config.productionTip=!1,new a["default"]({router:Lt,render:t=>t(_),localStorage:{allShows:{type:Array,default:[]},savedShows:{type:Array,default:[]}}}).$mount("#app")}},e={};function o(a){var s=e[a];if(void 0!==s)return s.exports;var n=e[a]={exports:{}};return t[a].call(n.exports,n,n.exports,o),n.exports}o.m=t,function(){var t=[];o.O=function(e,a,s,n){if(!a){var r=1/0;for(u=0;u<t.length;u++){a=t[u][0],s=t[u][1],n=t[u][2];for(var i=!0,l=0;l<a.length;l++)(!1&n||r>=n)&&Object.keys(o.O).every((function(t){return o.O[t](a[l])}))?a.splice(l--,1):(i=!1,n<r&&(r=n));if(i){t.splice(u--,1);var c=s();void 0!==c&&(e=c)}}return e}n=n||0;for(var u=t.length;u>0&&t[u-1][2]>n;u--)t[u]=t[u-1];t[u]=[a,s,n]}}(),function(){o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,{a:e}),e}}(),function(){var t,e=Object.getPrototypeOf?function(t){return Object.getPrototypeOf(t)}:function(t){return t.__proto__};o.t=function(a,s){if(1&s&&(a=this(a)),8&s)return a;if("object"===typeof a&&a){if(4&s&&a.__esModule)return a;if(16&s&&"function"===typeof a.then)return a}var n=Object.create(null);o.r(n);var r={};t=t||[null,e({}),e([]),e(e)];for(var i=2&s&&a;"object"==typeof i&&!~t.indexOf(i);i=e(i))Object.getOwnPropertyNames(i).forEach((function(t){r[t]=function(){return a[t]}}));return r["default"]=function(){return a},o.d(n,r),n}}(),function(){o.d=function(t,e){for(var a in e)o.o(e,a)&&!o.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){o.f={},o.e=function(t){return Promise.all(Object.keys(o.f).reduce((function(e,a){return o.f[a](t,e),e}),[]))}}(),function(){o.u=function(t){return"js/"+t+".476ef649.js"}}(),function(){o.miniCssF=function(t){}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="TheatRI:";o.l=function(a,s,n,r){if(t[a])t[a].push(s);else{var i,l;if(void 0!==n)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==a||d.getAttribute("data-webpack")==e+n){i=d;break}}i||(l=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,o.nc&&i.setAttribute("nonce",o.nc),i.setAttribute("data-webpack",e+n),i.src=a),t[a]=[s];var h=function(e,o){i.onerror=i.onload=null,clearTimeout(f);var s=t[a];if(delete t[a],i.parentNode&&i.parentNode.removeChild(i),s&&s.forEach((function(t){return t(o)})),e)return e(o)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=h.bind(null,i.onerror),i.onload=h.bind(null,i.onload),l&&document.head.appendChild(i)}}}(),function(){o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){o.p="/"}(),function(){var t={143:0};o.f.j=function(e,a){var s=o.o(t,e)?t[e]:void 0;if(0!==s)if(s)a.push(s[2]);else{var n=new Promise((function(o,a){s=t[e]=[o,a]}));a.push(s[2]=n);var r=o.p+o.u(e),i=new Error,l=function(a){if(o.o(t,e)&&(s=t[e],0!==s&&(t[e]=void 0),s)){var n=a&&("load"===a.type?"missing":a.type),r=a&&a.target&&a.target.src;i.message="Loading chunk "+e+" failed.\n("+n+": "+r+")",i.name="ChunkLoadError",i.type=n,i.request=r,s[1](i)}};o.l(r,l,"chunk-"+e,e)}},o.O.j=function(e){return 0===t[e]};var e=function(e,a){var s,n,r=a[0],i=a[1],l=a[2],c=0;if(r.some((function(e){return 0!==t[e]}))){for(s in i)o.o(i,s)&&(o.m[s]=i[s]);if(l)var u=l(o)}for(e&&e(a);c<r.length;c++)n=r[c],o.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return o.O(u)},a=self["webpackChunkTheatRI"]=self["webpackChunkTheatRI"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=o.O(void 0,[998],(function(){return o(1619)}));a=o.O(a)})();
//# sourceMappingURL=app.6695236a.js.map